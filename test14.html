<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UD.14</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .question {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .question h3 {
            margin-top: 0;
            color: #3498db;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .options {
            margin-left: 20px;
        }
        .option {
            margin: 10px 0;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .option:hover {
            background-color: #f0f0f0;
        }
        .option input {
            margin-right: 10px;
            cursor: pointer;
        }
        .option label {
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        .option span {
            margin-right: 8px;
            font-weight: bold;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            border-radius: 4px;
            cursor: pointer;
            display: block;
            margin: 30px auto;
            transition: background-color 0.2s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .results {
            display: none;
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        .results h2 {
            color: #2c3e50;
            text-align: center;
            margin-top: 0;
        }
        .result-item {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 4px;
        }
        .correct {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
        }
        .incorrect {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
        }
        .partially-correct {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        .score {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            color: #2c3e50;
        }
        .checkbox-question .option {
            margin-left: 0;
        }
    </style>
</head>
<body>
    <h1>Tema 14. La segunda mitad del siglo XX – Estudios de traducción</h1>
    
    <form id="quizForm">
        <!-- Pregunta 1 -->
        <div class="question" id="q1">
            <h3>Pregunta 1</h3>
            <p>¿Quién acuña el nombre de nuestra disciplina?</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="a">
                        <span>a.</span> Eugene Nida.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="b">
                        <span>b.</span> James S. Holmes.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="c">
                        <span>c.</span> Georges Mounin.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 2 -->
        <div class="question" id="q2">
            <h3>Pregunta 2</h3>
            <p>Toda traducción es una:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q2" value="a">
                        <span>a.</span> Imitación idéntica del TO.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q2" value="b">
                        <span>b.</span> Reproducción deficiente del TO.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q2" value="c">
                        <span>c.</span> Manipulación del TO.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 3 -->
        <div class="question" id="q3">
            <h3>Pregunta 3</h3>
            <p>La teoría del polisistema se basa en:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q3" value="a">
                        <span>a.</span> El positivismo como planteamiento metodológico.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q3" value="b">
                        <span>b.</span> El racionalismo como planteamiento metodológico.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q3" value="c">
                        <span>c.</span> El descriptivismo como planteamiento metodológico.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q3" value="d">
                        <span>d.</span> El prescriptivismo como planteamiento metodológico.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 4 -->
        <div class="question" id="q4">
            <h3>Pregunta 4</h3>
            <p>La teoría funcionalista establece que el TM viene condicionado por las expectativas de:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="a">
                        <span>a.</span> El TO.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="b">
                        <span>b.</span> La cultura de destino.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="c">
                        <span>c.</span> La cultura de partida.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 5 -->
        <div class="question" id="q5">
            <h3>Pregunta 5</h3>
            <p>La teoría del polisistema tiene una mayor aplicabilidad en relación con:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q5" value="a">
                        <span>a.</span> Textos de un campo de especialidad.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q5" value="b">
                        <span>b.</span> Textos no literarios.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q5" value="c">
                        <span>c.</span> Textos literarios.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 6 (Checkbox) -->
        <div class="question checkbox-question" id="q6">
            <h3>Pregunta 6</h3>
            <p>La teoría del escopo tiene una mayor aplicabilidad en relación con:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="checkbox" name="q6" value="a">
                        <span>a.</span> Textos no literarios.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="checkbox" name="q6" value="b">
                        <span>b.</span> Textos literarios.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="checkbox" name="q6" value="c">
                        <span>c.</span> Textos de un campo de especialidad.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 7 -->
        <div class="question" id="q7">
            <h3>Pregunta 7</h3>
            <p>El TM es un artefacto de carácter:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="a">
                        <span>a.</span> Ahistórico.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="b">
                        <span>b.</span> Invariable.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="c">
                        <span>c.</span> Sociohistórico.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 8 -->
        <div class="question" id="q8">
            <h3>Pregunta 8</h3>
            <p>A partir del análisis de los TM y la detección de las regularidades que muestran se pueden inferir:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="a">
                        <span>a.</span> Las normas que imperan en la cultura meta.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="b">
                        <span>b.</span> Las normas que imperan en la cultura de partida.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="c">
                        <span>c.</span> Las normas que determinan la forma del TO.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 9 -->
        <div class="question" id="q9">
            <h3>Pregunta 9</h3>
            <p>El <em>cultural turn</em> en los estudios de traducción supone:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q9" value="a">
                        <span>a.</span> Que el TM deja de ser el centro de atención.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q9" value="b">
                        <span>b.</span> Que el TO deja de ser el centro de atención.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q9" value="c">
                        <span>c.</span> Que la cultura meta deja de centrar el interés.
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Pregunta 10 -->
        <div class="question" id="q10">
            <h3>Pregunta 10</h3>
            <p>La teoría del escopo procede del:</p>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="a">
                        <span>a.</span> Funcionalismo alemán.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="b">
                        <span>b.</span> Funcionalismo inglés.
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="c">
                        <span>c.</span> Funcionalismo francés.
                    </label>
                </div>
            </div>
        </div>
        
        <button type="button" id="checkAnswers">Corregir Test</button>
    </form>
    
    <div class="results" id="results">
        <h2>Resultados del Test</h2>
        <div class="score" id="score"></div>
        <div id="resultsDetails"></div>
    </div>
    
    <script>
        // Respuestas correctas
        const correctAnswers = {
            q1: "b",
            q2: "c",
            q3: "c",
            q4: "b",
            q5: "c",
            q6: ["a", "c"], // Opciones a y c son correctas para pregunta 6
            q7: "c",
            q8: "a",
            q9: "b",
            q10: "a"
        };
        
        // Puntos por pregunta (para preguntas con múltiples respuestas)
        const questionPoints = {
            q6: { total: 1, correct: ["a", "c"], partial: 0.5 } // 1 punto por ambas, 0.5 por una correcta
        };
        
        // Explicaciones de las respuestas
        const explanations = {
            q1: "James S. Holmes fue quien acuñó el nombre de 'Translation Studies' para nuestra disciplina en su artículo fundacional de 1972.",
            q2: "Según las teorías contemporáneas, toda traducción implica necesariamente una manipulación del texto original para adaptarlo al contexto de llegada.",
            q3: "La teoría del polisistema, desarrollada por Even-Zohar, se basa en el descriptivismo como planteamiento metodológico, analizando los textos traducidos dentro de sistemas literarios más amplios.",
            q4: "La teoría funcionalista, desarrollada por Reiss y Vermeer, establece que el texto meta viene condicionado principalmente por las expectativas de la cultura de destino.",
            q5: "La teoría del polisistema tiene mayor aplicabilidad en textos literarios, ya que estudia cómo las traducciones funcionan dentro de los sistemas literarios.",
            q6: "La teoría del escopo (Skopostheorie) es especialmente aplicable a textos no literarios y textos de especialidad, donde la función del texto es más determinante que aspectos literarios o estéticos.",
            q7: "El texto meta es un artefacto sociohistórico, ya que está determinado por el contexto social e histórico en el que se produce.",
            q8: "El análisis de los textos meta y sus regularidades permite inferir las normas que imperan en la cultura meta, según la teoría de Toury.",
            q9: "El 'cultural turn' en los estudios de traducción supuso un cambio de enfoque, dejando de centrarse en el texto original para estudiar el papel de la traducción en la cultura de llegada.",
            q10: "La teoría del escopo (Skopostheorie) procede del funcionalismo alemán, desarrollada principalmente por Katharina Reiss y Hans Vermeer."
        };
        
        // Función para comparar arrays
        function arraysEqual(a, b) {
            if (a === b) return true;
            if (a == null || b == null) return false;
            if (a.length !== b.length) return false;
            
            for (let i = 0; i < a.length; ++i) {
                if (a[i] !== b[i]) return false;
            }
            return true;
        }
        
        // Función para calcular puntuación de preguntas con múltiples respuestas
        function calculateMultiAnswerScore(questionId, selectedOptions) {
            if (!questionPoints[questionId]) return 0;
            
            const { total, correct, partial } = questionPoints[questionId];
            const correctSelected = selectedOptions.filter(opt => correct.includes(opt)).length;
            const incorrectSelected = selectedOptions.filter(opt => !correct.includes(opt)).length;
            
            if (incorrectSelected > 0) return 0; // Si hay respuestas incorrectas seleccionadas, 0 puntos
            if (arraysEqual(selectedOptions.sort(), correct.sort())) return total; // Todas correctas
            if (partial && correctSelected > 0) return partial; // Respuesta parcialmente correcta
            return 0;
        }
        
        document.getElementById('checkAnswers').addEventListener('click', function() {
            let score = 0;
            let resultsHTML = '';
            let totalQuestions = 10;
            
            // Evitar que el formulario se envíe
            event.preventDefault();
            
            // Procesar cada pregunta
            for (let i = 1; i <= totalQuestions; i++) {
                const questionId = 'q' + i;
                const questionDiv = document.getElementById(questionId);
                const questionText = questionDiv.querySelector('p').textContent;
                let isCorrect = false;
                let isPartial = false;
                let pointsEarned = 0;
                
                // Manejar pregunta 6 (checkbox)
                if (questionId === 'q6') {
                    const selectedOptions = Array.from(document.querySelectorAll(`input[name="${questionId}"]:checked`)).map(el => el.value);
                    pointsEarned = calculateMultiAnswerScore(questionId, selectedOptions);
                    
                    if (pointsEarned === questionPoints[questionId].total) {
                        isCorrect = true;
                    } else if (pointsEarned > 0) {
                        isPartial = true;
                    }
                    
                    score += pointsEarned;
                    
                    // Obtener texto de las opciones seleccionadas
                    let selectedTexts = [];
                    selectedOptions.forEach(opt => {
                        const optionElement = document.querySelector(`input[name="${questionId}"][value="${opt}"]`);
                        const optionText = optionElement.parentElement.querySelector('span').nextSibling.textContent.trim();
                        selectedTexts.push(`${opt}. ${optionText}`);
                    });
                    
                    // Obtener texto de las opciones correctas
                    let correctTexts = [];
                    correctAnswers[questionId].forEach(opt => {
                        const optionElement = document.querySelector(`input[name="${questionId}"][value="${opt}"]`);
                        const optionText = optionElement.parentElement.querySelector('span').nextSibling.textContent.trim();
                        correctTexts.push(`${opt}. ${optionText}`);
                    });
                    
                    // Determinar clase CSS según el resultado
                    let resultClass = '';
                    if (isCorrect) {
                        resultClass = 'correct';
                    } else if (isPartial) {
                        resultClass = 'partially-correct';
                    } else {
                        resultClass = 'incorrect';
                    }
                    
                    resultsHTML += `
                        <div class="result-item ${resultClass}">
                            <p><strong>Pregunta ${i}:</strong> ${questionText}</p>
                            <p><strong>Tu respuesta:</strong> ${selectedTexts.length > 0 ? selectedTexts.join(', ') : 'No respondiste'}</p>
                            ${!isCorrect ? `<p><strong>Respuesta correcta:</strong> ${correctTexts.join(', ')}</p>` : ''}
                            <p><strong>Explicación:</strong> ${explanations[questionId]}</p>
                            <p><strong>Puntuación:</strong> ${pointsEarned.toFixed(1)}/1.0</p>
                        </div>
                    `;
                } else {
                    // Manejar preguntas de radio (una sola respuesta)
                    const selectedOption = document.querySelector(`input[name="${questionId}"]:checked`);
                    const userAnswer = selectedOption ? selectedOption.value : null;
                    isCorrect = userAnswer === correctAnswers[questionId];
                    
                    if (isCorrect) {
                        pointsEarned = 1;
                        score += 1;
                    }
                    
                    // Obtener el texto de la opción seleccionada
                    const selectedOptionText = selectedOption ? 
                        selectedOption.parentElement.querySelector('span').nextSibling.textContent.trim() : 
                        'No respondiste';
                    
                    // Obtener el texto de la opción correcta
                    const correctOption = document.querySelector(`input[name="${questionId}"][value="${correctAnswers[questionId]}"]`);
                    const correctOptionText = correctOption.parentElement.querySelector('span').nextSibling.textContent.trim();
                    
                    resultsHTML += `
                        <div class="result-item ${isCorrect ? 'correct' : 'incorrect'}">
                            <p><strong>Pregunta ${i}:</strong> ${questionText}</p>
                            <p><strong>Tu respuesta:</strong> ${selectedOptionText}</p>
                            ${!isCorrect ? `<p><strong>Respuesta correcta:</strong> ${correctOptionText}</p>` : ''}
                            <p><strong>Explicación:</strong> ${explanations[questionId]}</p>
                            <p><strong>Puntuación:</strong> ${pointsEarned.toFixed(1)}/1.0</p>
                        </div>
                    `;
                }
            }
            
            // Mostrar puntuación total
            document.getElementById('score').textContent = `Puntuación total: ${score.toFixed(1)}/${totalQuestions}`;
            document.getElementById('resultsDetails').innerHTML = resultsHTML;
            document.getElementById('results').style.display = 'block';
            
            // Desplazarse a los resultados
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>
</html>